{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SRAVAN\\\\OneDrive\\\\Documents\\\\MERN projects\\\\silent mode\\\\web\\\\src\\\\MapComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = ({\n  onLocationSelect,\n  radius = 100\n}) => {\n  _s();\n  const [position, setPosition] = useState(null);\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [leafletLoaded, setLeafletLoaded] = useState(false);\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markerRef = useRef(null);\n  const circleRef = useRef(null);\n  useEffect(() => {\n    // Check if Leaflet is already loaded\n    if (window.L) {\n      setLeafletLoaded(true);\n      return;\n    }\n\n    // Load Leaflet CSS\n    const link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n    link.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\n    link.crossOrigin = '';\n    document.head.appendChild(link);\n\n    // Load Leaflet JS\n    const script = document.createElement('script');\n    script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n    script.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\n    script.crossOrigin = '';\n    script.onload = () => {\n      setLeafletLoaded(true);\n    };\n    document.head.appendChild(script);\n    return () => {\n      // Cleanup\n      if (mapInstance.current) {\n        mapInstance.current.remove();\n        mapInstance.current = null;\n      }\n    };\n  }, []);\n  useEffect(() => {\n    if (leafletLoaded && mapRef.current && !mapLoaded) {\n      // Small delay to ensure DOM is ready\n      setTimeout(() => {\n        initializeMap();\n      }, 100);\n    }\n  }, [leafletLoaded, mapLoaded]);\n  const initializeMap = () => {\n    if (!window.L || !mapRef.current || mapInstance.current) return;\n    try {\n      // Initialize map\n      const map = window.L.map(mapRef.current, {\n        center: [37.7749, -122.4194],\n        zoom: 13,\n        zoomControl: true,\n        scrollWheelZoom: true\n      });\n\n      // Add tile layer\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        maxZoom: 19\n      }).addTo(map);\n\n      // Handle map clicks\n      map.on('click', e => {\n        const {\n          lat,\n          lng\n        } = e.latlng;\n\n        // Remove existing marker and circle\n        if (markerRef.current) {\n          map.removeLayer(markerRef.current);\n        }\n        if (circleRef.current) {\n          map.removeLayer(circleRef.current);\n        }\n\n        // Add new marker\n        markerRef.current = window.L.marker([lat, lng]).addTo(map);\n\n        // Add circle\n        circleRef.current = window.L.circle([lat, lng], {\n          radius: radius,\n          fillColor: '#007AFF',\n          fillOpacity: 0.2,\n          color: '#007AFF',\n          weight: 2\n        }).addTo(map);\n        const newPosition = {\n          latitude: lat,\n          longitude: lng\n        };\n        setPosition(newPosition);\n        if (onLocationSelect) {\n          onLocationSelect(newPosition);\n        }\n      });\n\n      // Ensure map renders properly\n      setTimeout(() => {\n        map.invalidateSize();\n      }, 100);\n      mapInstance.current = map;\n      setMapLoaded(true);\n    } catch (error) {\n      console.error('Error initializing map:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '15px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        height: '300px',\n        width: '100%',\n        border: '2px solid #ddd',\n        borderRadius: '8px',\n        backgroundColor: '#f0f0f0',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      children: !mapLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          color: '#666',\n          fontSize: '14px'\n        },\n        children: \"Loading map...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), position && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '12px',\n        color: '#007AFF',\n        marginTop: '8px',\n        fontFamily: 'monospace',\n        backgroundColor: '#f8f9fa',\n        padding: '4px 8px',\n        borderRadius: '4px',\n        display: 'inline-block'\n      },\n      children: [\"\\uD83D\\uDCCD \", position.latitude.toFixed(6), \", \", position.longitude.toFixed(6)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: '12px',\n        color: '#666',\n        marginTop: '5px',\n        fontStyle: 'italic'\n      },\n      children: mapLoaded ? 'Click on the map to select a location' : 'Loading OpenStreetMap...'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"uSrcU22GNYeAv+kCE1EwYaslXmU=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","MapComponent","onLocationSelect","radius","_s","position","setPosition","mapLoaded","setMapLoaded","leafletLoaded","setLeafletLoaded","mapRef","mapInstance","markerRef","circleRef","window","L","link","document","createElement","rel","href","integrity","crossOrigin","head","appendChild","script","src","onload","current","remove","setTimeout","initializeMap","map","center","zoom","zoomControl","scrollWheelZoom","tileLayer","attribution","maxZoom","addTo","on","e","lat","lng","latlng","removeLayer","marker","circle","fillColor","fillOpacity","color","weight","newPosition","latitude","longitude","invalidateSize","error","console","style","marginBottom","children","ref","height","width","border","borderRadius","backgroundColor","overflow","top","left","transform","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","fontFamily","padding","display","toFixed","fontStyle","_c","$RefreshReg$"],"sources":["C:/Users/SRAVAN/OneDrive/Documents/MERN projects/silent mode/web/src/MapComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst MapComponent = ({ onLocationSelect, radius = 100 }) => {\n  const [position, setPosition] = useState(null);\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const [leafletLoaded, setLeafletLoaded] = useState(false);\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markerRef = useRef(null);\n  const circleRef = useRef(null);\n\n  useEffect(() => {\n    // Check if Leaflet is already loaded\n    if (window.L) {\n      setLeafletLoaded(true);\n      return;\n    }\n\n    // Load Leaflet CSS\n    const link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\n    link.integrity = 'sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=';\n    link.crossOrigin = '';\n    document.head.appendChild(link);\n\n    // Load Leaflet JS\n    const script = document.createElement('script');\n    script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\n    script.integrity = 'sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=';\n    script.crossOrigin = '';\n    script.onload = () => {\n      setLeafletLoaded(true);\n    };\n    document.head.appendChild(script);\n\n    return () => {\n      // Cleanup\n      if (mapInstance.current) {\n        mapInstance.current.remove();\n        mapInstance.current = null;\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (leafletLoaded && mapRef.current && !mapLoaded) {\n      // Small delay to ensure DOM is ready\n      setTimeout(() => {\n        initializeMap();\n      }, 100);\n    }\n  }, [leafletLoaded, mapLoaded]);\n\n  const initializeMap = () => {\n    if (!window.L || !mapRef.current || mapInstance.current) return;\n\n    try {\n      // Initialize map\n      const map = window.L.map(mapRef.current, {\n        center: [37.7749, -122.4194],\n        zoom: 13,\n        zoomControl: true,\n        scrollWheelZoom: true\n      });\n\n      // Add tile layer\n      window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '¬© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        maxZoom: 19\n      }).addTo(map);\n\n      // Handle map clicks\n      map.on('click', (e) => {\n        const { lat, lng } = e.latlng;\n        \n        // Remove existing marker and circle\n        if (markerRef.current) {\n          map.removeLayer(markerRef.current);\n        }\n        if (circleRef.current) {\n          map.removeLayer(circleRef.current);\n        }\n        \n        // Add new marker\n        markerRef.current = window.L.marker([lat, lng]).addTo(map);\n        \n        // Add circle\n        circleRef.current = window.L.circle([lat, lng], {\n          radius: radius,\n          fillColor: '#007AFF',\n          fillOpacity: 0.2,\n          color: '#007AFF',\n          weight: 2\n        }).addTo(map);\n        \n        const newPosition = { latitude: lat, longitude: lng };\n        setPosition(newPosition);\n        \n        if (onLocationSelect) {\n          onLocationSelect(newPosition);\n        }\n      });\n\n      // Ensure map renders properly\n      setTimeout(() => {\n        map.invalidateSize();\n      }, 100);\n\n      mapInstance.current = map;\n      setMapLoaded(true);\n    } catch (error) {\n      console.error('Error initializing map:', error);\n    }\n  };\n\n  return (\n    <div style={{ marginBottom: '15px' }}>\n      <div \n        ref={mapRef} \n        style={{ \n          height: '300px', \n          width: '100%',\n          border: '2px solid #ddd',\n          borderRadius: '8px',\n          backgroundColor: '#f0f0f0',\n          position: 'relative',\n          overflow: 'hidden'\n        }}\n      >\n        {!mapLoaded && (\n          <div style={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            color: '#666',\n            fontSize: '14px'\n          }}>\n            Loading map...\n          </div>\n        )}\n      </div>\n      {position && (\n        <p style={{ \n          fontSize: '12px', \n          color: '#007AFF', \n          marginTop: '8px',\n          fontFamily: 'monospace',\n          backgroundColor: '#f8f9fa',\n          padding: '4px 8px',\n          borderRadius: '4px',\n          display: 'inline-block'\n        }}>\n          üìç {position.latitude.toFixed(6)}, {position.longitude.toFixed(6)}\n        </p>\n      )}\n      <p style={{ \n        fontSize: '12px', \n        color: '#666', \n        marginTop: '5px',\n        fontStyle: 'italic'\n      }}>\n        {mapLoaded ? 'Click on the map to select a location' : 'Loading OpenStreetMap...'}\n      </p>\n    </div>\n  );\n};\n\nexport default MapComponent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}